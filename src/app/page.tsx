import {
    Template1,
    Template2,
    Template3,
    Template4,
    Template5,
} from '../components/organisms/NewsTemplates'

const dataTest = [
    {
        id: 3,
        attributes: {
            title: 'post',
            slug: 'post-1',
            cover: {
                data: {
                    id: 4,
                    attributes: {
                        name: '01893a9429f7588db8058ecb1439bb46.webp',
                        alternativeText: null,
                        caption: null,
                        width: 1024,
                        height: 576,
                        formats: {
                            thumbnail: {
                                name: 'thumbnail_01893a9429f7588db8058ecb1439bb46.webp',
                                hash: 'thumbnail_01893a9429f7588db8058ecb1439bb46_bdbca91336',
                                ext: '.webp',
                                mime: 'image/webp',
                                path: null,
                                width: 245,
                                height: 138,
                                size: 9.27,
                                url: '/uploads/thumbnail_01893a9429f7588db8058ecb1439bb46_bdbca91336.webp',
                            },
                            medium: {
                                name: 'medium_01893a9429f7588db8058ecb1439bb46.webp',
                                hash: 'medium_01893a9429f7588db8058ecb1439bb46_bdbca91336',
                                ext: '.webp',
                                mime: 'image/webp',
                                path: null,
                                width: 750,
                                height: 422,
                                size: 48.19,
                                url: '/uploads/medium_01893a9429f7588db8058ecb1439bb46_bdbca91336.webp',
                            },
                            small: {
                                name: 'small_01893a9429f7588db8058ecb1439bb46.webp',
                                hash: 'small_01893a9429f7588db8058ecb1439bb46_bdbca91336',
                                ext: '.webp',
                                mime: 'image/webp',
                                path: null,
                                width: 500,
                                height: 281,
                                size: 27.04,
                                url: '/uploads/small_01893a9429f7588db8058ecb1439bb46_bdbca91336.webp',
                            },
                            large: {
                                name: 'large_01893a9429f7588db8058ecb1439bb46.webp',
                                hash: 'large_01893a9429f7588db8058ecb1439bb46_bdbca91336',
                                ext: '.webp',
                                mime: 'image/webp',
                                path: null,
                                width: 1000,
                                height: 562,
                                size: 68.89,
                                url: '/uploads/large_01893a9429f7588db8058ecb1439bb46_bdbca91336.webp',
                            },
                        },
                        hash: '01893a9429f7588db8058ecb1439bb46_bdbca91336',
                        ext: '.webp',
                        mime: 'image/webp',
                        size: 71.81,
                        url: '/uploads/01893a9429f7588db8058ecb1439bb46_bdbca91336.webp',
                        previewUrl: null,
                        provider: 'local',
                        provider_metadata: null,
                        createdAt: '2024-04-18T08:05:05.221Z',
                        updatedAt: '2024-04-24T13:46:41.452Z',
                    },
                },
            },
        },
    },
    {
        id: 3,
        attributes: {
            title: 'post',
            slug: 'post-1',
            cover: {
                data: {
                    id: 4,
                    attributes: {
                        name: '01893a9429f7588db8058ecb1439bb46.webp',
                        alternativeText: null,
                        caption: null,
                        width: 1024,
                        height: 576,
                        formats: {
                            thumbnail: {
                                name: 'thumbnail_01893a9429f7588db8058ecb1439bb46.webp',
                                hash: 'thumbnail_01893a9429f7588db8058ecb1439bb46_bdbca91336',
                                ext: '.webp',
                                mime: 'image/webp',
                                path: null,
                                width: 245,
                                height: 138,
                                size: 9.27,
                                url: '/uploads/thumbnail_01893a9429f7588db8058ecb1439bb46_bdbca91336.webp',
                            },
                            medium: {
                                name: 'medium_01893a9429f7588db8058ecb1439bb46.webp',
                                hash: 'medium_01893a9429f7588db8058ecb1439bb46_bdbca91336',
                                ext: '.webp',
                                mime: 'image/webp',
                                path: null,
                                width: 750,
                                height: 422,
                                size: 48.19,
                                url: '/uploads/medium_01893a9429f7588db8058ecb1439bb46_bdbca91336.webp',
                            },
                            small: {
                                name: 'small_01893a9429f7588db8058ecb1439bb46.webp',
                                hash: 'small_01893a9429f7588db8058ecb1439bb46_bdbca91336',
                                ext: '.webp',
                                mime: 'image/webp',
                                path: null,
                                width: 500,
                                height: 281,
                                size: 27.04,
                                url: '/uploads/small_01893a9429f7588db8058ecb1439bb46_bdbca91336.webp',
                            },
                            large: {
                                name: 'large_01893a9429f7588db8058ecb1439bb46.webp',
                                hash: 'large_01893a9429f7588db8058ecb1439bb46_bdbca91336',
                                ext: '.webp',
                                mime: 'image/webp',
                                path: null,
                                width: 1000,
                                height: 562,
                                size: 68.89,
                                url: '/uploads/large_01893a9429f7588db8058ecb1439bb46_bdbca91336.webp',
                            },
                        },
                        hash: '01893a9429f7588db8058ecb1439bb46_bdbca91336',
                        ext: '.webp',
                        mime: 'image/webp',
                        size: 71.81,
                        url: '/uploads/01893a9429f7588db8058ecb1439bb46_bdbca91336.webp',
                        previewUrl: null,
                        provider: 'local',
                        provider_metadata: null,
                        createdAt: '2024-04-18T08:05:05.221Z',
                        updatedAt: '2024-04-24T13:46:41.452Z',
                    },
                },
            },
        },
    },
    {
        id: 3,
        attributes: {
            title: 'post',
            slug: 'post-1',
            cover: {
                data: {
                    id: 4,
                    attributes: {
                        name: '01893a9429f7588db8058ecb1439bb46.webp',
                        alternativeText: null,
                        caption: null,
                        width: 1024,
                        height: 576,
                        formats: {
                            thumbnail: {
                                name: 'thumbnail_01893a9429f7588db8058ecb1439bb46.webp',
                                hash: 'thumbnail_01893a9429f7588db8058ecb1439bb46_bdbca91336',
                                ext: '.webp',
                                mime: 'image/webp',
                                path: null,
                                width: 245,
                                height: 138,
                                size: 9.27,
                                url: '/uploads/thumbnail_01893a9429f7588db8058ecb1439bb46_bdbca91336.webp',
                            },
                            medium: {
                                name: 'medium_01893a9429f7588db8058ecb1439bb46.webp',
                                hash: 'medium_01893a9429f7588db8058ecb1439bb46_bdbca91336',
                                ext: '.webp',
                                mime: 'image/webp',
                                path: null,
                                width: 750,
                                height: 422,
                                size: 48.19,
                                url: '/uploads/medium_01893a9429f7588db8058ecb1439bb46_bdbca91336.webp',
                            },
                            small: {
                                name: 'small_01893a9429f7588db8058ecb1439bb46.webp',
                                hash: 'small_01893a9429f7588db8058ecb1439bb46_bdbca91336',
                                ext: '.webp',
                                mime: 'image/webp',
                                path: null,
                                width: 500,
                                height: 281,
                                size: 27.04,
                                url: '/uploads/small_01893a9429f7588db8058ecb1439bb46_bdbca91336.webp',
                            },
                            large: {
                                name: 'large_01893a9429f7588db8058ecb1439bb46.webp',
                                hash: 'large_01893a9429f7588db8058ecb1439bb46_bdbca91336',
                                ext: '.webp',
                                mime: 'image/webp',
                                path: null,
                                width: 1000,
                                height: 562,
                                size: 68.89,
                                url: '/uploads/large_01893a9429f7588db8058ecb1439bb46_bdbca91336.webp',
                            },
                        },
                        hash: '01893a9429f7588db8058ecb1439bb46_bdbca91336',
                        ext: '.webp',
                        mime: 'image/webp',
                        size: 71.81,
                        url: '/uploads/01893a9429f7588db8058ecb1439bb46_bdbca91336.webp',
                        previewUrl: null,
                        provider: 'local',
                        provider_metadata: null,
                        createdAt: '2024-04-18T08:05:05.221Z',
                        updatedAt: '2024-04-24T13:46:41.452Z',
                    },
                },
            },
        },
    },
    {
        id: 3,
        attributes: {
            title: 'post',
            slug: 'post-1',
            cover: {
                data: {
                    id: 4,
                    attributes: {
                        name: '01893a9429f7588db8058ecb1439bb46.webp',
                        alternativeText: null,
                        caption: null,
                        width: 1024,
                        height: 576,
                        formats: {
                            thumbnail: {
                                name: 'thumbnail_01893a9429f7588db8058ecb1439bb46.webp',
                                hash: 'thumbnail_01893a9429f7588db8058ecb1439bb46_bdbca91336',
                                ext: '.webp',
                                mime: 'image/webp',
                                path: null,
                                width: 245,
                                height: 138,
                                size: 9.27,
                                url: '/uploads/thumbnail_01893a9429f7588db8058ecb1439bb46_bdbca91336.webp',
                            },
                            medium: {
                                name: 'medium_01893a9429f7588db8058ecb1439bb46.webp',
                                hash: 'medium_01893a9429f7588db8058ecb1439bb46_bdbca91336',
                                ext: '.webp',
                                mime: 'image/webp',
                                path: null,
                                width: 750,
                                height: 422,
                                size: 48.19,
                                url: '/uploads/medium_01893a9429f7588db8058ecb1439bb46_bdbca91336.webp',
                            },
                            small: {
                                name: 'small_01893a9429f7588db8058ecb1439bb46.webp',
                                hash: 'small_01893a9429f7588db8058ecb1439bb46_bdbca91336',
                                ext: '.webp',
                                mime: 'image/webp',
                                path: null,
                                width: 500,
                                height: 281,
                                size: 27.04,
                                url: '/uploads/small_01893a9429f7588db8058ecb1439bb46_bdbca91336.webp',
                            },
                            large: {
                                name: 'large_01893a9429f7588db8058ecb1439bb46.webp',
                                hash: 'large_01893a9429f7588db8058ecb1439bb46_bdbca91336',
                                ext: '.webp',
                                mime: 'image/webp',
                                path: null,
                                width: 1000,
                                height: 562,
                                size: 68.89,
                                url: '/uploads/large_01893a9429f7588db8058ecb1439bb46_bdbca91336.webp',
                            },
                        },
                        hash: '01893a9429f7588db8058ecb1439bb46_bdbca91336',
                        ext: '.webp',
                        mime: 'image/webp',
                        size: 71.81,
                        url: '/uploads/01893a9429f7588db8058ecb1439bb46_bdbca91336.webp',
                        previewUrl: null,
                        provider: 'local',
                        provider_metadata: null,
                        createdAt: '2024-04-18T08:05:05.221Z',
                        updatedAt: '2024-04-24T13:46:41.452Z',
                    },
                },
            },
        },
    },
]

const fetchAllPosts = async () => {
    const response = await fetch(
        `http://localhost:1337/api/posts?fields[0]=title&fields[1]=slug&populate[0]=cover&populate[1]=category`
    )
    if (!response.ok) {
        throw new Error('Failed')
    }
    return response?.json()
}

const fetchPostByCategory = async (categorySlug: string) => {
    const response = await fetch(
        `http://localhost:1337/api/posts?fields[0]=title&fields[1]=slug&populate[0]=cover&populate[1]=category&filters[$and][0][category][slug][$eq]=${categorySlug}&`
    )
    if (!response.ok) {
        throw new Error('Failed')
    }
    return response?.json()
}

export default async function Home() {
    const { data: latestPosts } = await fetchAllPosts()
    const { data: sportPosts } = await fetchPostByCategory('sport')
    // const { data: latestPosts } = await fetchPostByCategory()
    // const { data: latestPosts } = await fetchPostByCategory()

    return (
        <>
            <Template1 title="Przypięte" items={latestPosts} />
            <Template2 title="Najnowsze" items={sportPosts} />
            {/* <Template3 title="Cyberbezpieczeństwo" items={dataTest} />
            <Template4 title="Ciekawostki" items={dataTest} />
            <Template5 title="Sport " items={dataTest} /> */}
        </>
    )
}
